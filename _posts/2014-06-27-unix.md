---
layout: post
title: "Unix"
tags: unix
permalink: unix
---

### Helper

```sh
$ ~ $ home user directory  
$ ~+ # same as pwd  
$ ~- # previous directory  
$ ls -1 $PWD/*.txt # list all .txt with full path  
$ cd - # cd to previous path
$ export EDITOR=vim # set vim as default editor
$ groups #list group
$ getent group <group_name> #list members of group
$ top #check performance
$ du -sh <folder> # summary disk usage of folder
$ df -h # disk free
```


### Command

```sh
nl #number line
xargs <cmd> #change input to arguments, use with pipe
sed #stream editor
pbcopy < <file> # copy file into clipboard
```

### Where command

```sh
$ hash # list command and its path  
$ type -a <cmd> # tell all path of commamd  
$ which <cmd> # tell default path of command  
```

### [Redirection](http://en.wikipedia.org/wiki/Redirection_computing)

```sh
$ cmd > <file> # print output to file (overwrite)  
$ cmd >> <file> # print output to file (append)  
$ cmd 2> <file> # print error to file  
$ cmd &> <file> # print output & error to file  
$ cmd < <file> # use file as  input  
$ cmd << <file> # use file as input  
# Redirection output wiht sudo
$ echo "hello" | sudo tee out > /dev/null # eq. echo "hello" > out
# echo "hello" | sudo tee -a out > /dev/null # eq echo "hello" > out
```

### Jobs

```sh
$ jobs # list active jobs  
$ fg # put the current in the foreground  
Ctrl-z # Suspend a foreground job
```

### Crontab Time schedule

```sh
$ crontab -e #edit crontab profile
# */5 * * * * cmd
# run cmd every five minutes
$ grep CRON /var/log/syslog #see crontablog (debian)
```

### Sed - Stream Editor
1. [The Basics of Using the Sed Stream Editor to Manipulate Text in Linux](https://www.digitalocean.com/community/tutorials/the-basics-of-using-the-sed-stream-editor-to-manipulate-text-in-linux)
2. [Intermediate Sed: Manipulating Streams of Text in a Linux Environment](https://www.digitalocean.com/community/articles/intermediate-sed-manipulating-streams-of-text-in-a-linux-environment)
3. [Unix - Regular Expressions with SED](http://www.tutorialspoint.com/unix/unix-regular-expressions.htm)
4. [Unix Sed Tutorial: Append, Insert, Replace, and Count File Lines](http://www.thegeekstuff.com/2009/11/unix-sed-tutorial-append-insert-replace-and-count-file-lines/)
5. [Add Character to the Beginning or to the End of Each Line using AWK and SED](http://www.shellhacks.com/en/Add-Character-to-the-Beginning-or-to-the-End-of-Each-Line-using-AWK-and-SED)
6. [sed, a stream editor](https://www.gnu.org/software/sed/manual/sed.html)
7. [Sed & Awk Book](http://docstore.mik.ua/orelly/unix/sedawk/index.htm)


### Shell Script

```sh
#!/bin/sh

VAR = "hello"
if [ "$VAR" = "hello" ]; then  # use = to equal string not ==
  echo $VAR
else
  echo "fasle"
fi
```

### Zsh History expansion 
should also work with bash.

```sh
$ man zshexpn # manual for look in-depth  
$ history # tell history command that keep in ~/.bash_history  
$ history -c # clear history  
! # previous that can combine with command and argument  
$ !! # call previous command  
$ !<str> # call last command that start with str  
$ !?<str>[?] # call last command containing str  
$ !<hist_number> # call command in nth of history files  
 ^ # first argument  
 $ # last argument  
 <n> # nth argument  
 * # all argument  
$ <space><cmd> # call command without keep history
```

### Zsh Basic Editing
should also work with bash.

```sh
$ bindkey -v # vi mode  
$ bindkey -e # emac mode  
Ctrl + a # moves the cursor to begin of line  
Ctrl + e # moves the cursor to end of line  
Ctrl + q, u # delete while line  
Ctrl + w # delete word backwords  
Ctrl + d # delete char (moves forward)  
Ctrl + k # delete until end of line  
Ctrl + y # yank last delete word  
Ctrl + t # transpoes two characters  
Esc + t # transpoes two words  
```

## Reference
1. [learning the shell](http://www.linuxcommand.org/lc3_learning_the_shell.php)
2. [HowTo: Add Jobs To cron Under Linux or UNIX?](http://www.cyberciti.biz/faq/how-do-i-add-jobs-to-cron-under-linux-or-unix-oses/)
3. [how to set cron job to run every 5 mins?](http://www.linuxquestions.org/questions/linux-general-1/how-to-set-cron-job-to-run-every-5-mins-61667/)
4. [CronHowto](https://help.ubuntu.com/community/CronHowto)
5. [Checking UNIX Server Performance](http://www.sitepoint.com/unix-server-performance/)
6. [How do I use sudo to redirect output to a location I don't have permission to write to?](http://stackoverflow.com/questions/82256/how-do-i-use-sudo-to-redirect-output-to-a-location-i-dont-have-permission-to-wr)
7. [UNIX Disk Usage Command Examples](http://www.cyberciti.biz/faq/unix-disk-usage-command-examples/)
