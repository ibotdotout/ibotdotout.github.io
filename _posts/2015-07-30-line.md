---
layout: post
title: Python Line API
tags: python
permalink: line/
---

## Line API requirement - [Line API Documentation](http://carpedm20.github.io/line/)

* [Line API](https://github.com/carpedm20/LINE)
* Python2 (not 3 because Thrift not support yet)
* [Apache Thrift](https://thrift.apache.org)


## [Install Thrift on Ubuntu](http://www.saltycrane.com/blog/2011/06/install-thrift-ubuntu-1010-maverick)

```sh
$ apt-get install -y automake libtool flex bison pkg-config g++ libssl-dev make libqt4-dev git debhelper cmake
$ cd /tmp
$ curl http://archive.apache.org/dist/thrift/0.9.1/thrift-0.9.1.tar.gz | tar zx
$ cd /tmp/thrift-0.9.1
$ ./configure
$ make && make install
$ rm -rf /tmp/thrift-0.9.1
```

## [Fix login with email and password failed](https://www.youtube.com/watch?v=vaB1ZzV7UxY)

```sh
# installl line and remove first that tricky don't know why
$ pip install line && pip uninstall -y line
$ git clone https://github.com/carpedm20/LINE.git
$ cd LINE/line
$ wget https://gist.github.com/windows98SE/b739038218b6fe4d423f/raw/5f68cf3d9a2a88576b739810a6bd6fcaa0c5e940/api.py.patch
$ patch api.py < api.py.patch
$ python config.py
$ python setup.py install
```

## Sample Bot

{% gist ibotdotout/382369f272b9a2804318 %}

## Line API Patched Dockerfile on Ubuntu

{% gist ibotdotout/7082eae15450fe5de783 %}

## Line send message by LineID

{% gist ibotdotout/0a4aabc85c7767cb0679 %}


### References:
1. [Python Line API Repository](https://github.com/carpedm20/LINE)
2. [Line API Documentation](http://carpedm20.github.io/line/)
3. [StepHack.Com : มาเขียน บอท line ด้วย Python กันเถอะ](https://www.youtube.com/playlist?list=PLv55tReH1ENzu9z5oaU46VNtU0G9wESTH)
4. [How to use LINE API in python ( lt’s work)](http://dev-program.com/how-to-use-line-api-in-python-lts-work/)
5. [Line reverse engineering](http://carpedm20.blogspot.kr/2013/09/line-reverse-engineering.html)
